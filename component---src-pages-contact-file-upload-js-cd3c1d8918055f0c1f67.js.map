{"version":3,"sources":["webpack:///./src/pages/contact/file-upload.js"],"names":["encode","data","formData","FormData","Object","keys","key","append","Contact","props","handleChange","e","setState","target","name","value","handleAttachment","files","handleSubmit","preventDefault","form","fetch","method","body","getAttribute","state","then","navigate","catch","error","alert","render","className","action","data-netlify","data-netlify-honeypot","onSubmit","this","type","hidden","onChange","htmlFor","id","required","React","Component"],"mappings":"0PAIA,SAASA,EAAOC,GAGd,IAFA,IAAMC,EAAW,IAAIC,SAErB,MAAkBC,OAAOC,KAAKJ,GAA9B,eAAqC,CAAhC,IAAMK,EAAG,KACZJ,EAASK,OAAOD,EAAKL,EAAKK,IAG5B,OAAOJ,E,IAGYM,E,oBACnB,WAAYC,GAAQ,IAAD,SACjB,cAAMA,IAAN,MAIFC,aAAe,SAAAC,GAAM,IAAD,EAClB,EAAKC,WAAL,MAAiBD,EAAEE,OAAOC,MAAOH,EAAEE,OAAOE,MAA1C,KANiB,EASnBC,iBAAmB,SAAAL,GAAM,IAAD,EACtB,EAAKC,WAAL,MAAiBD,EAAEE,OAAOC,MAAOH,EAAEE,OAAOI,MAAM,GAAhD,KAViB,EAanBC,aAAe,SAAAP,GACbA,EAAEQ,iBACF,IAAMC,EAAOT,EAAEE,OACfQ,MAAM,IAAK,CACTC,OAAQ,OACRC,KAAMvB,EAAO,OAAD,QACV,YAAaoB,EAAKI,aAAa,SAC5B,EAAKC,UAGTC,MAAK,kBAAMC,mBAASP,EAAKI,aAAa,cACtCI,OAAM,SAAAC,GAAK,OAAIC,MAAMD,OAtBxB,EAAKJ,MAAQ,GAFI,E,0GA2BnBM,OAAA,WACE,OACE,kBAAC,IAAD,KACE,6BAASC,UAAU,WACjB,yBAAKA,UAAU,aACb,yBAAKA,UAAU,WACb,2CACA,0BACElB,KAAK,cACLQ,OAAO,OACPW,OAAO,mBACPC,eAAa,OACbC,wBAAsB,YACtBC,SAAUC,KAAKnB,cAGf,2BAAOoB,KAAK,SAASxB,KAAK,YAAYC,MAAM,gBAC5C,yBAAKwB,QAAM,GACT,sDACuB,IACrB,2BAAOzB,KAAK,YAAY0B,SAAUH,KAAK3B,iBAG3C,yBAAKsB,UAAU,SACb,2BAAOA,UAAU,QAAQS,QAAS,QAAlC,aAGA,yBAAKT,UAAU,WACb,2BACEA,UAAU,QACVM,KAAM,OACNxB,KAAM,OACN0B,SAAUH,KAAK3B,aACfgC,GAAI,OACJC,UAAU,MAIhB,yBAAKX,UAAU,SACb,yBAAKA,UAAU,QACb,2BAAOA,UAAU,cACf,2BACEA,UAAU,aACVM,KAAK,OACLxB,KAAK,aACL0B,SAAUH,KAAKrB,mBAEjB,0BAAMgB,UAAU,YACd,0BAAMA,UAAU,cAAhB,sBAKR,yBAAKA,UAAU,SACb,4BAAQA,UAAU,iBAAiBM,KAAK,UAAxC,e,GAlFmBM,IAAMC","file":"component---src-pages-contact-file-upload-js-cd3c1d8918055f0c1f67.js","sourcesContent":["import React from 'react'\r\nimport { navigate } from 'gatsby-link'\r\nimport Layout from '../../components/Layout'\r\n\r\nfunction encode(data) {\r\n  const formData = new FormData()\r\n\r\n  for (const key of Object.keys(data)) {\r\n    formData.append(key, data[key])\r\n  }\r\n\r\n  return formData\r\n}\r\n\r\nexport default class Contact extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {}\r\n  }\r\n\r\n  handleChange = e => {\r\n    this.setState({ [e.target.name]: e.target.value })\r\n  }\r\n\r\n  handleAttachment = e => {\r\n    this.setState({ [e.target.name]: e.target.files[0] })\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault()\r\n    const form = e.target\r\n    fetch('/', {\r\n      method: 'POST',\r\n      body: encode({\r\n        'form-name': form.getAttribute('name'),\r\n        ...this.state,\r\n      }),\r\n    })\r\n      .then(() => navigate(form.getAttribute('action')))\r\n      .catch(error => alert(error))\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Layout>\r\n        <section className=\"section\">\r\n          <div className=\"container\">\r\n            <div className=\"content\">\r\n              <h1>File Upload</h1>\r\n              <form\r\n                name=\"file-upload\"\r\n                method=\"post\"\r\n                action=\"/contact/thanks/\"\r\n                data-netlify=\"true\"\r\n                data-netlify-honeypot=\"bot-field\"\r\n                onSubmit={this.handleSubmit}\r\n              >\r\n                {/* The `form-name` hidden field is required to support form submissions without JavaScript */}\r\n                <input type=\"hidden\" name=\"form-name\" value=\"file-upload\" />\r\n                <div hidden>\r\n                  <label>\r\n                    Don’t fill this out:{' '}\r\n                    <input name=\"bot-field\" onChange={this.handleChange} />\r\n                  </label>\r\n                </div>\r\n                <div className=\"field\">\r\n                  <label className=\"label\" htmlFor={'name'}>\r\n                    Your name\r\n                  </label>\r\n                  <div className=\"control\">\r\n                    <input\r\n                      className=\"input\"\r\n                      type={'text'}\r\n                      name={'name'}\r\n                      onChange={this.handleChange}\r\n                      id={'name'}\r\n                      required={true}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"field\">\r\n                  <div className=\"file\">\r\n                    <label className=\"file-label\">\r\n                      <input\r\n                        className=\"file-input\"\r\n                        type=\"file\"\r\n                        name=\"attachment\"\r\n                        onChange={this.handleAttachment}\r\n                      />\r\n                      <span className=\"file-cta\">\r\n                        <span className=\"file-label\">Choose a file…</span>\r\n                      </span>\r\n                    </label>\r\n                  </div>\r\n                </div>\r\n                <div className=\"field\">\r\n                  <button className=\"button is-link\" type=\"submit\">\r\n                    Send\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      </Layout>\r\n    )\r\n  }\r\n}\r\n"],"sourceRoot":""}